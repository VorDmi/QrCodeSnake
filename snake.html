<!DOCTYPE html><html><head><title></title><style>body{display:flex;justify-content:center;}button{width: 100px;}canvas{border:1px solid black;background-color:black;}</style></head><body><button onclick="u()">u</button><button onclick="le()">l</button><canvas width="400"height="400"id="game"></canvas><button onclick="r()">r</button><button onclick="d()">d</button><script>var cv = document.getElementById('game');var ctx=cv.getContext('2d');var g=16;var c=0;var s={x:160,y:160,dx:g,dy:0,ce:[],maxce:4};var ap = {x:320,y:320};function gRI(min,max){return Math.floor(Math.random()*(max-min))+min;}function l(){requestAnimationFrame(l);if(++c<4){return;}c=0;ctx.clearRect(0,0,cv.width,cv.height);s.x+=s.dx;s.y+=s.dy;if(s.x<0){s.x=cv.width-g;}else if(s.x>=cv.width){s.x = 0;}if(s.y<0){s.y=cv.height-g;}else if(s.y >= cv.height){s.y = 0;}s.ce.unshift({x: s.x, y: s.y});if(s.ce.length>s.maxce){s.ce.pop();}ctx.fillStyle='yellow';ctx.fillRect(ap.x,ap.y,g-1,g-1);ctx.fillStyle='green';s.ce.forEach(function(c,index){ctx.fillRect(c.x,c.y,g-1,g-1);if(c.x===ap.x&&c.y===ap.y){s.maxce++;ap.x=gRI(0,25)*g;ap.y=gRI(0,25)*g;}for(var i=index+1;i<s.ce.length;i++){if(c.x===s.ce[i].x&&c.y===s.ce[i].y){s.x=160;s.y=160;s.ce=[];s.maxce=4;s.dx=g;s.dy=0;ap.x=gRI(0,25)*g;ap.y=gRI(0,25)*g;}}});}document.addEventListener('keydown',function(e){if(e.which===37&&s.dx===0) {s.dx=-g;s.dy=0;}else if(e.which===38&&s.dy===0){s.dy=-g;s.dx=0;}else if(e.which===39&&s.dx===0){s.dx=g;s.dy=0;}else if(e.which===40&&s.dy===0){s.dy=g;s.dx=0;}});function le(){s.dx=-g;s.dy=0;}function r(){s.dx=g;}function u(){s.dy=-g;s.dx=0;}function d(){s.dy=g;s.dx=0;}requestAnimationFrame(l);</script></body></html>